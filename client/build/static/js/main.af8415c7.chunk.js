(this["webpackJsonpmern-auth-front"]=this["webpackJsonpmern-auth-front"]||[]).push([[0],{39:function(e,t,a){e.exports=a(69)},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),o=a(2),s=a.n(o),u=a(6),i=a(1),m=a(5),d=Object(n.createContext)(null);function E(){var e=Object(n.useContext)(d).userData;return r.a.createElement("div",{className:"page"},e.user&&void 0!==e.user.id?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Welcome ",e.user.displayName,"!"),r.a.createElement("h2",null,"Would you like to ",r.a.createElement(m.b,{to:"/create"},"create")," a plan or go to your ",r.a.createElement(m.b,{to:"/lists"},"list")," of plans?")):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Welcome to your dinner planning app."),r.a.createElement("h2",null,"Use this tool to record and store your weekly dinner plans!"),r.a.createElement("h2",null,"To begin, please ",r.a.createElement(m.b,{to:"/login"},"log in")," or",r.a.createElement(m.b,{to:"/register"}," register"))))}function p(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"notfound"},"Oops! This page does not exist."))}var v=a(3),f=a(4),h=a.n(f);function b(e){return r.a.createElement("div",{className:"error-notice"},r.a.createElement("span",null,e.message),r.a.createElement("button",{onClick:e.clearError},"X"))}function g(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),o=Object(i.a)(l,2),m=o[0],E=o[1],p=Object(n.useContext)(d).setUserData,f=Object(v.f)(),g=Object(n.useState)(),y=Object(i.a)(g,2),O=y[0],j=y[1],N=function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={email:a,password:m},e.next=5,h.a.post("/users/login",n);case 5:r=e.sent,p({token:r.data.token,user:r.data.user}),localStorage.setItem("auth-token",r.data.token),f.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0.response.data.msg),e.t0.response.data.msg&&j(e.t0.response.data.msg);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"responsive-reg"},r.a.createElement("h2",null,"Log in"),O&&r.a.createElement(b,{message:O,clearError:function(){return j(void 0)}}),r.a.createElement("form",{className:"form",onSubmit:N},r.a.createElement("label",{htmlFor:"login-email"},"Email"),r.a.createElement("input",{id:"login-email",type:"email",onChange:function(e){return c(e.target.value)}}),r.a.createElement("label",{htmlFor:"login-password"},"Password"),r.a.createElement("input",{id:"login-password",type:"password",onChange:function(e){return E(e.target.value)}}),r.a.createElement("input",{type:"submit",value:"LogIn"})))}function y(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),o=Object(i.a)(l,2),m=o[0],E=o[1],p=Object(n.useState)(),f=Object(i.a)(p,2),g=f[0],y=f[1],O=Object(n.useState)(),j=Object(i.a)(O,2),N=j[0],w=j[1],k=Object(n.useState)(),C=Object(i.a)(k,2),x=C[0],S=C[1],D=Object(n.useContext)(d).setUserData,F=Object(v.f)(),P=function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={email:a,password:m,passwordCheck:g,displayName:N},e.next=5,h.a.post("/users/register",n);case 5:return e.next=7,h.a.post("/users/login",{email:a,password:m});case 7:r=e.sent,D({token:r.data.token,user:r.data.user}),localStorage.setItem("auth-token",r.data.token),F.push("/"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0.response.data.msg),e.t0.response.data.msg&&S(e.t0.response.data.msg);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"responsive-reg"},r.a.createElement("h2",null,"Register"),x&&r.a.createElement(b,{message:x,clearError:function(){return S(void 0)}}),r.a.createElement("form",{className:"form",onSubmit:P},r.a.createElement("label",{htmlFor:"register-email"},"Email"),r.a.createElement("input",{id:"register-email",type:"email",onChange:function(e){return c(e.target.value)}}),r.a.createElement("label",{htmlFor:"register-password"},"Password"),r.a.createElement("input",{id:"register-password",type:"password",onChange:function(e){return E(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"Verify password",onChange:function(e){return y(e.target.value)}}),r.a.createElement("label",{htmlFor:"register-display-name"},"Display name"),r.a.createElement("input",{id:"register-display-name",type:"text",onChange:function(e){return w(e.target.value)}}),r.a.createElement("input",{type:"submit",value:"Register"})),r.a.createElement("h3",null,"**Please remember your password. Once your account is created, you will not be able to change it**")))}var O=a(22),j=(a(67),a(26)),N=a.n(j);function w(e){var t=Object(n.useContext)(d).userData.user.id,a=Object(n.useState)(""),c=Object(i.a)(a,2),l=c[0],o=c[1],m=Object(n.useState)(""),E=Object(i.a)(m,2),p=E[0],v=E[1],f=Object(n.useState)(""),b=Object(i.a)(f,2),g=b[0],y=b[1],O=Object(n.useState)(!1),j=Object(i.a)(O,2),w=j[0],k=j[1];console.log(p,g);var C={day:p.day+6,month:p.month,year:p.year},x=function(){var a=Object(u.a)(s.a.mark((function a(){var n,r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n="".concat(p.month,"-").concat(p.day,"-").concat(p.year,"-").concat(g.month,"-").concat(g.day,"-").concat(g.year),r={dates:n,id:t},a.next=5,h.a.post("/dinners/dateCheck",r);case 5:a.sent,e.createIt(p,g),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0.response.data.msg),a.t0.response.data.msg&&o(a.t0.response.data.msg);case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(){return a.apply(this,arguments)}}();return console.log(l),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"createDatesContainer"},r.a.createElement("div",{className:"createTitle"},r.a.createElement("h1",null,"Ready to make dinner a plan?"),r.a.createElement("h2",null,"Choose up to a full week.")),r.a.createElement("div",{className:"borderCalendar"},r.a.createElement("div",{className:"create"},r.a.createElement("h1",null,"Choose date range"),w?r.a.createElement("h3",{className:"dateMissing"},"Please enter your dates"):null,l?r.a.createElement("h4",{className:"dateChoiceError"},l):null,r.a.createElement(N.a,{value:p,onChange:v,inputPlaceholder:"Select the start day",calendarClassName:"responsive-calendar"}),r.a.createElement(N.a,{value:g,minimumDate:p,maximumDate:C,onChange:y,inputPlaceholder:"Select the end day",calendarClassName:"responsive-calendar"}),r.a.createElement("div",{className:"addDate"},r.a.createElement("button",{onClick:function(){p&&g?(k(!1),x()):k(!0)}},"Click to Create New Plan"))))))}var k=a(12),C=a(16),x=a(38);function S(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),m=Object(i.a)(o,2),E=m[0],p=m[1],f=Object(x.a)(e.dinner).slice(0),b=Object(n.useContext)(d).userData,g=Object(v.f)(),y=b.user.id;Object(n.useEffect)((function(){!function(){var t=e.date2,a=t.day,n=t.month,r=t.year,c="".concat(n,"-").concat(a,"-").concat(r);p(c)}(),function(){var t=e.date1,a=t.day,n=t.month,r=t.year,c="".concat(n,"-").concat(a,"-").concat(r);console.log(a,n,r),l(c)}()}),[e.date1,e.date2]);var O="".concat(c,"-").concat(E);console.log(O,"full"),console.log(f);var j=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={dates:O,dinnerPlan:f,UserID:y},e.next=4,h.a.post("/dinners/archive",t);case 4:a=e.sent,g.push("/lists"),console.log(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("req"+e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"archiveAndReturn"},r.a.createElement("div",{className:"archive"},r.a.createElement("button",{onClick:function(){return j()}},r.a.createElement("h3",null,"Save Plan")))))}function D(e){var t="".concat(e.day1.month,"/").concat(e.day1.day,"/").concat(e.day1.year),a="".concat(e.day2.month,"/").concat(e.day2.day,"/").concat(e.day2.year),c=Object(n.useState)({day:"",name:"",recipe:"",website:"",notes:""}),l=Object(i.a)(c,2),o=l[0],s=l[1];function u(e){var t=e.target,a=t.name,n=t.value;s((function(e){return Object(C.a)(Object(C.a)({},e),{},Object(k.a)({},a,n))}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"formContain"},r.a.createElement("h1",null,"Create Plan for ",t," to ",a),r.a.createElement("h2",null,"Fill out the form and click Add."),r.a.createElement("div",{className:"goBack"},r.a.createElement("button",{onClick:function(){e.setCreateDone(!1),e.setDinner([])}},r.a.createElement("h3",null,"Go Back"))),r.a.createElement("div",{className:"formTemplate"},r.a.createElement("form",null,r.a.createElement("select",{name:"day",value:o.day,onChange:u},r.a.createElement("option",{value:"none"},"Select Day"),r.a.createElement("option",{value:"Sunday"},"Sunday"),r.a.createElement("option",{value:"Monday"},"Monday"),r.a.createElement("option",{value:"Tuesday"},"Tuesday"),r.a.createElement("option",{value:"Wednesday"},"Wednesday"),r.a.createElement("option",{value:"Thursday"},"Thursday"),r.a.createElement("option",{value:"Friday"},"Friday"),r.a.createElement("option",{value:"Saturday"},"Saturday")),r.a.createElement("div",{className:"textRows"},r.a.createElement("div",{className:"textSplitRows"},r.a.createElement("textarea",{rows:"3",cols:"35",placeholder:"Who is cooking?",value:o.name,name:"name",onChange:u}),r.a.createElement("textarea",{rows:"3",cols:"35",placeholder:"Name of the recipe",value:o.recipe,name:"recipe",onChange:u})),r.a.createElement("div",{className:"textFullRows"},r.a.createElement("textarea",{rows:"3",cols:"35",placeholder:"Copy and paste website: https://website.com",value:o.website,name:"website",onChange:u}),r.a.createElement("textarea",{rows:"3",cols:"35",placeholder:"Notes",name:"notes",value:o.notes,onChange:u}))),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(t){e.onAdd(o),s({day:"",name:"",recipe:"",website:"",notes:""}),t.preventDefault()}},"Add")))))}function F(e){var t=e.toggle,a=e.content,c=Object(n.useState)(!1),l=Object(i.a)(c,2),o=l[0],s=l[1];return r.a.createElement(r.a.Fragment,null,t((function(){return s(!0)})),o&&a((function(){return s(!1)})))}var P=function(e){var t=e.children;return l.a.createPortal(r.a.createElement("div",{className:"modal"},t),document.getElementById("modal-root"))};function I(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"names"},r.a.createElement("h4",null,e.day),r.a.createElement("h4",null,e.name)),r.a.createElement("div",{className:"containerButtons"},r.a.createElement("button",{className:"deleteButton",onClick:function(){e.delete(e.id)}},r.a.createElement("p",null,"Delete")),r.a.createElement(F,{toggle:function(e){return r.a.createElement("button",{className:"openButton",onClick:e},r.a.createElement("p",null,"Open"))},content:function(t){return r.a.createElement("div",{className:"ok"},r.a.createElement(P,null,r.a.createElement("h3",null,"Website"),r.a.createElement("div",{className:"modalOverflow"},r.a.createElement("h3",null,r.a.createElement("a",{href:e.website,target:"_blank",rel:"noopener noreferrer"},e.website))),r.a.createElement("h3",null,"Notes"),r.a.createElement("div",{className:"modalOverflow"},r.a.createElement("h3",null,e.notes)),r.a.createElement("button",{className:"closeBtn",onClick:t},r.a.createElement("h3",null,"Close"))))}})),r.a.createElement("div",{className:"containerItems"},e.recipe)))}function B(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),s=o[0],u=o[1],m=Object(n.useState)(""),d=Object(i.a)(m,2),E=d[0],p=d[1];var v=Object(n.useState)([]),f=Object(i.a)(v,2),h=f[0],b=f[1];function g(e){b((function(t){return t.filter((function(t,a){return a!==e}))}))}return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"createContainer"},r.a.createElement(D,{day1:s,day2:E,onAdd:function(e){b((function(t){return[].concat(Object(O.a)(t),[e])}))},setCreateDone:c,setDinner:b}),r.a.createElement(S,{dinner:h,date1:s,date2:E,setDinner:b}),r.a.createElement("div",{className:"dinnerContainer"},h.map((function(e,t){return r.a.createElement(I,{key:t,id:t,day:e.day,name:e.name,recipe:e.recipe,website:e.website,notes:e.notes,delete:g})}))))):r.a.createElement(w,{createIt:function(e,t){var a=e,n=t;console.log(a,n,"maincreate"),c(!0),u(a),p(n)},createDone:a}))}function A(e){var t=Object(n.useContext)(d).userData,a=Object(n.useState)([]),c=Object(i.a)(a,2),l=c[0],o=c[1],E=l.datesDinner;console.log(E);var p=t.user.id;console.log(p),Object(n.useEffect)((function(){p&&(console.log("start",p),function(){var e=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/dinners/lists",{headers:{UserID:p}});case 3:t=e.sent,a=t.data,console.log("sent"),console.log(a," i am data"),o(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()())}),[t]);var v=function(){var e=Object(u.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.delete("/dinners/lists/delete",{data:{id:p,dates:t}});case 3:a=e.sent,n=a.data,window.location.reload(),console.log(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return console.log(l.datesDinner,"arraydats"),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"fullList"},E&&E.length>0?E.map((function(e,t){return r.a.createElement("div",{className:"linkDelete"},r.a.createElement("button",{onClick:function(){return v(e.dates)}},"Delete"),r.a.createElement(m.b,{key:t,to:"/list/".concat(e.dates)},r.a.createElement("h3",null,e.dates)))})):r.a.createElement("h3",null," No lists ")))}function T(){var e=Object(n.useContext)(d).userData.user.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"listTitle"},"Click on a date to see your dinner plan."),r.a.createElement(A,{id:e}))}function R(e){var t=e.children;return l.a.createPortal(r.a.createElement("div",{className:"modal"},t),document.getElementById("modal-root"))}function W(e){var t=Object(n.useContext)(d).userData.user.id,a=e.id,c=Object(n.useState)(!1),l=Object(i.a)(c,2),o=l[0],m=l[1],E=Object(n.useState)(""),p=Object(i.a)(E,2),v=p[0],f=p[1],b=Object(n.useState)(""),g=Object(i.a)(b,2),y=g[0],O=g[1];console.log(a,"index"),Object(n.useEffect)((function(){(function(){var n=Object(u.a)(s.a.mark((function n(){var r,c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.get("/dinners/edit/".concat(e.dates),{headers:{UserID:t,id:a}});case 2:r=n.sent,c=r.data,O(c),f(c);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[]);var j=function(){var n=Object(u.a)(s.a.mark((function n(r){var c,l,u;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),m(!o),c={text:v,id:t,arrayIndex:a},n.next=5,h.a.post("/dinners/editNote/".concat(e.dates),c);case 5:return l=n.sent,n.next=8,l.data;case 8:u=n.sent,console.log(u,"change"),O(u);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,o&&y?r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",{className:"textB",type:"text",value:v,onChange:function(e){return f(e.target.value)}}),r.a.createElement("button",{className:"saveEdits",onClick:j},"Save")):r.a.createElement("p",{className:"textOverflow"},y.notes),r.a.createElement("br",null),r.a.createElement("button",{className:"editNoteB",onClick:function(){m(!o),f(y.notes)}},r.a.createElement("h3",null,o?"Close Edit":"Edit note")))}function U(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"containAll"},r.a.createElement("div",{className:"containerArch"},r.a.createElement("div",{className:"namesArch"},r.a.createElement("h3",null,e.day),r.a.createElement("h3",null,e.name)),r.a.createElement("div",{className:"recipeArch"},r.a.createElement("h3",null,e.recipe))),r.a.createElement("div",{className:"containButtons"},r.a.createElement(F,{toggle:function(e){return r.a.createElement("button",{onClick:e},r.a.createElement("h3",null,"Open"))},content:function(t){return r.a.createElement(R,null,r.a.createElement("div",{className:"archWN"},r.a.createElement("h3",null,"Website"),r.a.createElement("h3",null,r.a.createElement("a",Object(k.a)({href:e.website,rel:"external",target:"_blank"},"rel","noopener noreferrer"),e.website)),r.a.createElement("h3",null,"Notes"),r.a.createElement(W,{id:e.id,key:e.key,notes:e.notes,title:e.title,dates:e.dates})),r.a.createElement("button",{className:"closeBtnArch",onClick:t},"Close"))}}))))}function L(e){var t=Object(n.useState)({day:"",name:"",recipe:"",website:"",notes:""}),a=Object(i.a)(t,2),c=a[0],l=a[1];function o(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(C.a)(Object(C.a)({},e),{},Object(k.a)({},a,n))}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"formTemplate"},r.a.createElement("form",null,r.a.createElement("select",{name:"day",value:c.day,onChange:o},r.a.createElement("option",{value:"none"},"Select Day"),r.a.createElement("option",{value:"Sunday"},"Sunday"),r.a.createElement("option",{value:"Monday"},"Monday"),r.a.createElement("option",{value:"Tuesday"},"Tuesday"),r.a.createElement("option",{value:"Wednesday"},"Wednesday"),r.a.createElement("option",{value:"Thursday"},"Thursday"),r.a.createElement("option",{value:"Friday"},"Friday"),r.a.createElement("option",{value:"Saturday"},"Saturday")),r.a.createElement("div",{className:"textRows"},r.a.createElement("div",{className:"textSplitRows"},r.a.createElement("textarea",{rows:"3",cols:"35",placeholder:"Who is cooking?",value:c.name,name:"name",onChange:o}),r.a.createElement("textarea",{rows:"3",cols:"35",placeholder:"Name of the recipe",value:c.recipe,name:"recipe",onChange:o})),r.a.createElement("div",{className:"textFullRows"},r.a.createElement("textarea",{rows:"3",cols:"35",placeholder:"Copy and paste website: https://website.com",value:c.website,name:"website",onChange:o}),r.a.createElement("textarea",{rows:"3",cols:"35",placeholder:"Notes",name:"notes",value:c.notes,onChange:o}))),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(t){return function(t){e.onAdd(c),l({day:"",name:"",recipe:"",website:"",notes:""}),t.preventDefault()}(t)}},"Add"))))}function M(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"names"},r.a.createElement("h4",null,e.day),r.a.createElement("h4",null,e.name)),r.a.createElement("div",{className:"containerButtons"},r.a.createElement("button",{className:"deleteButton",onClick:function(){return t=e.id,void e.moveObject(t);var t}},r.a.createElement("p",null,"Move Up")),r.a.createElement("button",{className:"deleteButton",onClick:function(){e.delete(e.id)}},r.a.createElement("p",null,"Delete")),r.a.createElement(F,{toggle:function(e){return r.a.createElement("button",{className:"openButton",onClick:e},r.a.createElement("p",null,"Open"))},content:function(t){return r.a.createElement("div",{className:"ok"},r.a.createElement(P,null,r.a.createElement("h3",null,"Website"),r.a.createElement("div",{className:"modalOverflow"},r.a.createElement("h3",null,r.a.createElement("a",{href:e.website,target:"_blank",rel:"noopener noreferrer"},e.website))),r.a.createElement("h3",null,"Notes"),r.a.createElement("div",{className:"modalOverflow"},r.a.createElement("h3",null,e.notes)),r.a.createElement("button",{className:"closeBtn",onClick:t},r.a.createElement("h3",null,"Close"))))}})),r.a.createElement("div",{className:"containerItems"},e.recipe)))}function _(e){return r.a.createElement("button",{className:"editArchive",onClick:function(){e.addEditDinnerPlan()}},r.a.createElement("h3",null,"Save Plan"))}function q(e){var t=e.match,a=Object(v.f)(),c=Object(n.useContext)(d).userData,l=c.user.id,o=t.params.dates,m=Object(n.useState)(),E=Object(i.a)(m,2),p=E[0],f=E[1],b=Object(n.useState)(),g=Object(i.a)(b,2),y=g[0],j=g[1];console.log(y,o,l,"my save data");var N=Object(n.useState)(!1),w=Object(i.a)(N,2),k=w[0],C=w[1],x=Object(n.useState)(!1),S=Object(i.a)(x,2),D=S[0],F=S[1],P=o.replace(RegExp("^(?:.*?-){3}"),(function(e){return e.replace(RegExp("-$")," to ")})).replace(/-/gi,"/");function I(e){j((function(t){return t.filter((function(t,a){return a!==e}))}))}Object(n.useEffect)((function(){if(l){console.log("start");try{(function(){var e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/dinners/list/".concat(o),{headers:{UserID:l}});case 2:return t=e.sent,console.log("sent"),e.next=6,t.data;case 6:null!==(n=e.sent).dinnerPlan?f(n):a.push("/NotFound");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}catch(e){console.log(e.response)}}}),[c]),Object(n.useEffect)((function(){p&&j(p.dinnerPlan.dinnerPlan)}),[p]);var B=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={name:o,dinners:y,userID:l},e.next=4,h.a.post("/dinners/edit-archive",t);case 4:e.sent,C(!k),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("req"+e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),A=function(e){var t=e+1,a=1,n=y.splice(e,a)[0];a=0,t>y.length?(t=0,y.splice(t,a,n),j(y)):(y.splice(t,a,n),j(y)),F(!D)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dinnerFullContainer"},r.a.createElement("h1",{className:"dinnerTitle"},"Dinner Plan for ",P,"."),k?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"formContain"},r.a.createElement("button",{className:"editDinnerPlanBtn",onClick:function(){return C(!k)}},"Close Edit"),r.a.createElement(L,{onAdd:function(e){j((function(t){return[].concat(Object(O.a)(t),[e])}))}}),r.a.createElement(_,{addEditDinnerPlan:B}),r.a.createElement("div",{className:"dinnerContainer"},y.map((function(e,t){return r.a.createElement(M,{key:t,id:t,day:e.day,name:e.name,notes:e.notes,recipe:e.recipe,website:e.website,dates:o,delete:I,moveObject:A})}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"editDinnerPlanBtn",onClick:function(){return C(!k)}},"Edit the whole miracle burger"),r.a.createElement("div",{className:"dinnerContainer"},y?y.map((function(e,t){return r.a.createElement(U,{key:t,id:t,day:e.day,name:e.name,notes:e.notes,recipe:e.recipe,website:e.website,dates:o})})):null))))}function J(){var e=Object(n.useContext)(d),t=e.userData,a=e.setUserData,c=Object(v.f)();return r.a.createElement("nav",{className:"auth-options"},t.user&&void 0!==t.user.id?r.a.createElement("button",{onClick:function(){c.push("/"),a({token:void 0,user:void 0}),localStorage.setItem("auth-token","")}},"Log out"):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return c.push("/register")}},"Register"),r.a.createElement("button",{onClick:function(){return c.push("/login")}},"Log In")))}function V(){var e=Object(v.f)();return r.a.createElement("div",{className:"options"},r.a.createElement("button",{onClick:function(){e.push("/create")}},"Create Plan"),r.a.createElement("button",{onClick:function(){return e.push("/lists")}},"Lists"))}function G(){var e=Object(n.useContext)(d).userData;return r.a.createElement("header",{id:"header"},r.a.createElement(m.b,{to:"/"},r.a.createElement("h1",{className:"title"},"Dinner App")),e.user&&void 0!==e.user.id?r.a.createElement(V,null):null,r.a.createElement(J,null))}function X(){return r.a.createElement("footer",{id:"footer"},r.a.createElement("h4",null,"Made with ",r.a.createElement("span",{role:"img",alt:"heart emoji"},"\u2764\ufe0f")," by Leigh"))}a(68);function $(){var e=Object(n.useState)({token:void 0,user:{displayName:void 0,id:void 0}}),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=localStorage.getItem("auth-token"))&&(localStorage.setItem("auth-token",""),t=""),e.next=5,h.a.post("/users/tokenIsValid",null,{headers:{"x-auth-token":t}});case 5:if(!e.sent.data){e.next=11;break}return e.next=9,h.a.get("/users/",{headers:{"x-auth-token":t}});case 9:a=e.sent,c({token:t,user:a.data});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(d.Provider,{value:{userData:a,setUserData:c}},r.a.createElement(G,null),r.a.createElement(v.c,null,r.a.createElement(v.a,{exact:!0,path:"/",component:E}),r.a.createElement(v.a,{exact:!0,path:"/register",component:y}),r.a.createElement(v.a,{exact:!0,path:"/login",component:g}),r.a.createElement(v.a,{exact:!0,path:"/create",component:B}),r.a.createElement(v.a,{exact:!0,path:"/lists",component:T}),r.a.createElement(v.a,{exact:!0,path:"/list/:dates",component:q}),r.a.createElement(v.a,{path:"*",component:p})),r.a.createElement(X,null))))}l.a.render(r.a.createElement($,null),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.af8415c7.chunk.js.map